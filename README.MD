# üíº –¢–µ—Å—Ç–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ

**üêæ** –ó–∞–¥–∞—á–∞: —Ä–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å –±—ç–∫–µ–Ω–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è "—Ñ–∏–ª—å–º–æ—Ç–µ–∫–∞", –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç REST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö —Ñ–∏–ª—å–º–æ–≤.

## üòé **Swagger**

http://localhost:9091/swagger/index.html

## üìú –°–ø—Ä–∞–≤–∫–∞

üìå –ü–æ—Ä—Ç—ã —É –ë–î –æ—Ç–∫—Ä—ã—Ç—ã –¥–ª—è –¥–µ–±–∞–≥–∞

üìå –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏ –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —á–µ—Ä–µ–∑ `go test -cover ./... `. –û–¥–Ω–∞–∫–æ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∏–∑ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –Ω–µ–≤–µ—Ä–Ω—ã–µ –ø—Ä–æ—Ü–µ–Ω—Ç—ã

üìå –í —Ä–µ–¥–∏—Å–µ –Ω–∞–ø–∏—Å–∞–Ω—ã –º–µ—Ç–æ–¥—ã –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ä–µ—Ñ—Ä–µ—à —Ç–æ–∫–µ–Ω–æ–≤ –∏ –∞–∫—Å—Å–µ—Å —Ç–æ–∫–µ–Ω–æ–≤, –Ω–æ –≤ —Ä—É—á–∫–∞—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –µ—â–µ –Ω–µ—Ç

üìå –í—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –∑–∞–∫—Ä—ã—Ç—ã –æ—Ç guest\`–æ–≤. –î–ª—è user\`–æ–≤ —Ç–æ–ª—å–∫–æ –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

## ü©ª –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- cmd/api - _**main.go**_
- config/ - _yaml –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞_
- data/
    - postgres
    - redis
- internal
    - api - _—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ö–µ–Ω–¥–ª–µ—Ä–æ–≤ –≤ —Ç—Ä–µ—Ö—Å–ª–æ–π–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ_
      - delivery - _—Ö–µ–Ω–¥–ª–µ—Ä—ã_
      - repository - _–≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å **PostgreSQL** –∏ **Redis** (—Ö—Ä–∞–Ω–µ–Ω–∏–µ refresh token)_
      - usecase - _–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞_
      - ========================================
      - handler.go -          _–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ö–µ–Ω–¥–µ–ª–µ—Ä–∞_
      - repository.go -     _–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è_
      - tokenRepository.go -_–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è —Ç–æ–∫–µ–Ω–æ–≤_
      - usecase.go - _–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —é–∑–∫–µ–π—Å–∞)_  
    - common/constant - _–∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã_ 
    - middleware - _middleware –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏_
    - server
        - delivery/mapRoutes - _—Ä—É—Ç–∏–Ω–≥_
        - mapHandlers.go - _–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤_
        - runServer.go - _–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞_
    - utils/encryption - _—Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª—è_
- migrations - _sql –º–∏–≥—Ä–∞—Ü–∏–∏_
- pkg/logger - _–ª–æ–≥–≥–µ—Ä_
## üß∂ Config sample

```
Server:
  Port: 0000
  Version: 1.0.0
  AccessSecret: secret
  RefreshSecret: rsecret
  AccessLifetime: 7200
  RefreshLifetime: 604800

Logger:
  InFile: true

Postgres:
  Host: cinema_db
  Port: 0000
  User: postgres_user_from_env
  Password: postgres_password_from_env
  Database: cinema
  SSLMode: disable

Redis:
  Host: api_redis_db
  Port: 0000
  Database: 0
```

## üêà .env file sample

```
POSTGRES_USER=postgres_user
POSTGRES_PASSWORD=postgres_password
POSTGRES_DB=cinema
DEBUG_LEVEL=0

IN_DOCKER=TRUE
```